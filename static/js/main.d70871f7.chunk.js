(this.webpackJsonpgpxcountry=this.webpackJsonpgpxcountry||[]).push([[0],{14:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r,c=n(1),o=n.n(c),a=n(8),i=n.n(a),l=(n(14),n(5)),s=n(6),u=(n(15),n(9)),d=(n(16),n(2)),j=n(0),p=function(e){var t=e.lat,n=e.lng,r=e.onClick,o=e.waypoints,a=Object(c.useRef)(null),i=Object(c.useRef)(null),l=Object(c.useRef)(null);return Object(c.useEffect)((function(){null===a.current&&(a.current=Object(d.map)("leafletmap",{tap:!1}).setView([t,n],13),i.current=new d.LayerGroup,i.current.addTo(a.current),l.current=new d.LayerGroup,l.current.addTo(a.current),Object(d.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',useCache:!0}).addTo(a.current),a.current.on("click",(function(e){r(e.latlng)})))}),[t,n,r]),Object(c.useEffect)((function(){if(i.current.clearLayers(),l.current.clearLayers(),o.map((function(e,t){var n=Object(d.divIcon)({className:"map-marker text-white bg-gray-700",iconSize:[20,20],html:"<span>".concat(t+1,"</span>")}),r=Object(d.marker)([e.lat,e.lng],{icon:n});i.current.addLayer(r)})),o.length>1){var e=Object(d.polyline)(o,{color:"#1086e8",weight:6});l.current.addLayer(e)}}),[o]),Object(j.jsx)("div",{id:"leafletmap",className:"h-full"})},f=function(){return Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(j.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),Object(j.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),Object(j.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})},b=function(){return Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(j.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object(j.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Object(j.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(j.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})},g=function(e){var t=function(e){var t=document.implementation.createDocument("http://www.topografix.com/GPX/1/1","",null),n=document.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return e.forEach((function(e){var r=t.createElement("wpt");r.setAttribute("lat",e.lat),r.setAttribute("lon",e.lng),n.appendChild(r)})),t.appendChild(n),t}(e),n=new XMLSerializer,r='<?xml version="1.0" encoding="UTF-8" standalone="no" ?>'.concat(n.serializeToString(t));return"data:text/xml;charset=UTF-8, ".concat(encodeURIComponent(r))},x=function(e){var t=e.children,n=e.index,o=e.onDrop,a=Object(c.useRef)(null);return Object(j.jsx)("li",{ref:a,className:"leading-10 font-bold flex gap-2",draggable:"true",onDragStart:function(e){return function(e,t){e.nativeEvent.dataTransfer.effectAllowed="move",r=t}(e,n)},onDragOver:function(e){e.nativeEvent.preventDefault&&e.nativeEvent.preventDefault(),a.current.classList.add("bg-green-500")},onDragLeave:function(){a.current.classList.remove("bg-green-500")},onDrop:function(e){return function(e,t,n){n({source:r,target:t}),a.current.classList.remove("bg-green-500")}(0,n,o)},onDragEnd:function(){a.current.classList.remove("bg-green-500")},children:t})},h=function(e){var t=e.list,n=e.onRemove,r=e.onDrop;return Object(j.jsxs)("div",{className:"flex flex-col justify-between bg-gray-700 text-white p-4",children:[Object(j.jsx)("h1",{className:"text-2xl font-bold border-b-4 border-gray-500 my-2 py-2",children:"Route Builder"}),Object(j.jsx)("ul",{className:"py-8 flex-auto",children:t.map((function(e,t){return Object(j.jsxs)(x,{index:t,onDrop:r,children:[Object(j.jsx)("button",{type:"button",className:"text-gray-500",children:Object(j.jsx)(f,{})}),Object(j.jsxs)("span",{className:"flex-auto",children:["Waypoint ",t+1]}),Object(j.jsx)("button",{type:"button",className:"text-gray-500",onClick:function(){return n(t)},children:Object(j.jsx)(b,{})})]})}))}),t.length>0&&Object(j.jsx)("a",{href:g(t),download:"MyRoute.gpx",className:"w-full text-center font-bold bg-green-500 text-gray-900 py-3 px-4 rounded-lg hover:bg-green-300 hover:text-gray-700",children:"Download your Route"})]})};var m=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"grid grid-cols-4 h-screen",children:[Object(j.jsx)(h,{list:n,onDrop:function(e){console.log("onDrop",e),r((function(t){return Object(u.a)(t,e.source,e.target)}))},onRemove:function(e){return r((function(t){return t.filter((function(t,n){return n!==e}))}))}}),Object(j.jsx)("div",{className:"col-span-3",children:Object(j.jsx)(p,{lat:"50.5238",lng:"10.0204",onClick:function(e){return r((function(t){return[].concat(Object(l.a)(t),[e])}))},waypoints:n})})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};i.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),v()}},[[18,1,2]]]);
//# sourceMappingURL=main.d70871f7.chunk.js.map